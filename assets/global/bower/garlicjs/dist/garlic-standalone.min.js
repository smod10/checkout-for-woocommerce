/* Garlicjs dist/garlic-standalone.min.js build version 1.3.1-cgd http://garlicjs.org */
var Zepto=function(){function b(a){return"[object Function]"==R.call(a)}function k(a){return a instanceof Object}function w(a){return k(a)&&a.__proto__==Object.prototype}function d(a){return a instanceof Array}function e(a){return"number"==typeof a.length}function z(a){return D.call(a,function(a){return a!==n&&null!==a})}function l(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function q(a){return a in H?
H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function h(a,c){return"number"!=typeof c||S[l(a)]?c:c+"px"}function r(a){return"children"in a?B.call(a.children):c.map(a.childNodes,function(a){if(1==a.nodeType)return a})}function C(a,c,t){for(u in c)t&&w(c[u])?(w(a[u])||(a[u]={}),C(a[u],c[u],t)):c[u]!==n&&(a[u]=c[u])}function y(a,f){return f===n?c(a):c(a).filter(f)}function x(a,c,t,d){return b(c)?c.call(a,t,d):c}function A(a,c){var f=a.className,b=f&&f.baseVal!==n;if(c===n)return b?f.baseVal:f;b?f.baseVal=
c:a.className=c}function E(a){var f;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(f=Number(a))?/^[\[\{]/.test(a)?c.parseJSON(a):a:f):a}catch(t){return a}}function F(a,c){c(a);for(var f in a.childNodes)F(a.childNodes[f],c)}var n,u,c,g,m=[],B=m.slice,D=m.filter,v=window.document,I={},H={},J=v.defaultView.getComputedStyle,S={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
N=/^(?:body|html)$/i,U="val css html text data width height offset".split(" "),K=v.createElement("table"),O=v.createElement("tr"),P={tr:v.createElement("tbody"),tbody:K,thead:K,tfoot:K,td:O,th:O,"*":v.createElement("div")},V=/complete|loaded|interactive/,W=/^\.([\w-]+)$/,X=/^#([\w-]*)$/,Y=/^[\w-]+$/,R={}.toString,p={},L,G,Q=v.createElement("div");return p.matches=function(a,c){if(!a||1!==a.nodeType)return!1;var f=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;
if(f)return f.call(a,c);var b,f=a.parentNode,d=!f;return d&&(f=Q).appendChild(a),b=~p.qsa(f,c).indexOf(a),d&&Q.removeChild(a),b},L=function(a){return a.replace(/-+(.)?/g,function(a,c){return c?c.toUpperCase():""})},G=function(a){return D.call(a,function(c,t){return a.indexOf(c)==t})},p.fragment=function(a,f,t){a.replace&&(a=a.replace(T,"<$1></$2>"));f===n&&(f=M.test(a)&&RegExp.$1);f in P||(f="*");var b,d,g=P[f];return g.innerHTML=""+a,d=c.each(B.call(g.childNodes),function(){g.removeChild(this)}),
w(t)&&(b=c(d),c.each(t,function(a,c){-1<U.indexOf(a)?b[a](c):b.attr(a,c)})),d},p.Z=function(a,c){return a=a||[],a.__proto__=arguments.callee.prototype,a.selector=c||"",a},p.isZ=function(a){return a instanceof p.Z},p.init=function(a,f){if(!a)return p.Z();if(b(a))return c(v).ready(a);if(p.isZ(a))return a;if(d(a))f=z(a);else if(k(a))f=[w(a)?c.extend({},a):a],a=null;else if(M.test(a))f=p.fragment(a.trim(),RegExp.$1,f),a=null;else{if(f!==n)return c(f).find(a);f=p.qsa(v,a)}return p.Z(f,a)},c=function(a,
c){return p.init(a,c)},c.extend=function(a){var c,t=B.call(arguments,1);return"boolean"==typeof a&&(c=a,a=t.shift()),t.forEach(function(f){C(a,f,c)}),a},p.qsa=function(a,c){var f;return a===v&&X.test(c)?(f=a.getElementById(RegExp.$1))?[f]:[]:1!==a.nodeType&&9!==a.nodeType?[]:B.call(W.test(c)?a.getElementsByClassName(RegExp.$1):Y.test(c)?a.getElementsByTagName(c):a.querySelectorAll(c))},c.contains=function(a,c){return a!==c&&a.contains(c)},c.isFunction=b,c.isObject=k,c.isArray=d,c.isPlainObject=w,
c.inArray=function(a,c,t){return m.indexOf.call(c,a,t)},c.camelCase=L,c.trim=function(a){return a.trim()},c.uuid=0,c.support={},c.expr={},c.map=function(a,f){var t=[],b;if(e(a))for(b=0;b<a.length;b++){var d=f(a[b],b);null!=d&&t.push(d)}else for(b in a)d=f(a[b],b),null!=d&&t.push(d);return 0<t.length?c.fn.concat.apply([],t):t},c.each=function(a,c){var f;if(e(a))for(f=0;f<a.length&&!1!==c.call(a[f],f,a[f]);f++);else for(f in a)if(!1===c.call(a[f],f,a[f]))break;return a},c.grep=function(a,c){return D.call(a,
c)},window.JSON&&(c.parseJSON=JSON.parse),c.fn={forEach:m.forEach,reduce:m.reduce,push:m.push,sort:m.sort,indexOf:m.indexOf,concat:m.concat,map:function(a){return c(c.map(this,function(c,b){return a.call(c,b,c)}))},slice:function(){return c(B.apply(this,arguments))},ready:function(a){return V.test(v.readyState)?a(c):v.addEventListener("DOMContentLoaded",function(){a(c)},!1),this},get:function(a){return a===n?B.call(this):this[a]},toArray:function(){return this.get()},size:function(){return this.length},
remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(c,b){a.call(c,b,c)}),this},filter:function(a){return b(a)?this.not(this.not(a)):c(D.call(this,function(c){return p.matches(c,a)}))},add:function(a,f){return c(G(this.concat(c(a,f))))},is:function(a){return 0<this.length&&p.matches(this[0],a)},not:function(a){var f=[];if(b(a)&&a.call!==n)this.each(function(c){a.call(this,c)||f.push(this)});else{var d=
"string"==typeof a?this.filter(a):e(a)&&b(a.item)?B.call(a):c(a);this.forEach(function(a){0>d.indexOf(a)&&f.push(a)})}return c(f)},has:function(a){return this.filter(function(){return k(a)?c.contains(this,a):c(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!k(a)?a:c(a)},last:function(){var a=this[this.length-1];return a&&!k(a)?a:c(a)},find:function(a){var f;return 1==this.length?f=c(p.qsa(this[0],a)):f=this.map(function(){return p.qsa(this,
a)}),f},closest:function(a,f){for(var b=this[0];b&&!p.matches(b,a);)b=b!==f&&b!==v&&b.parentNode;return c(b)},parents:function(a){for(var f=[],b=this;0<b.length;)b=c.map(b,function(a){if((a=a.parentNode)&&a!==v&&0>f.indexOf(a))return f.push(a),a});return y(f,a)},parent:function(a){return y(G(this.pluck("parentNode")),a)},children:function(a){return y(this.map(function(){return r(this)}),a)},contents:function(){return this.map(function(){return B.call(this.childNodes)})},siblings:function(a){return y(this.map(function(a,
c){return D.call(r(c.parentNode),function(a){return a!==c})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return c.map(this,function(c){return c[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==J(this,"").getPropertyValue("display")){var a=this.style;var c=this.nodeName;var b,d;c=(I[c]||(b=v.createElement(c),v.body.appendChild(b),d=J(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),
"none"==d&&(d="block"),I[c]=d),I[c]);a.display=c}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var f=b(a);if(this[0]&&!f){var d=c(a).get(0);var g=d.parentNode||1<this.length}return this.each(function(b){c(this).wrapAll(f?a.call(this,b):g?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){c(this[0]).before(a=c(a));for(var b;(b=a.children()).length;)a=b.first();c(a).append(this)}return this},wrapInner:function(a){var f=b(a);return this.each(function(b){var d=c(this),
g=d.contents();b=f?a.call(this,b):a;g.length?g.wrapAll(b):d.append(b)})},unwrap:function(){return this.parent().each(function(){c(this).replaceWith(c(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=c(this);(a===n?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return c(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return c(this.pluck("nextElementSibling")).filter(a||
"*")},html:function(a){return a===n?0<this.length?this[0].innerHTML:null:this.each(function(b){var f=this.innerHTML;c(this).empty().append(x(this,a,b,f))})},text:function(a){return a===n?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,c){var b;return"string"==typeof a&&c===n?0==this.length||1!==this[0].nodeType?n:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(b=this[0].getAttribute(a))&&a in this[0]?this[0][a]:b:this.each(function(b){if(1===this.nodeType)if(k(a))for(u in a){b=
u;var f=a[u];null==f?this.removeAttribute(b):this.setAttribute(b,f)}else b=x(this,c,b,this.getAttribute(a)),null==b?this.removeAttribute(a):this.setAttribute(a,b)})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},prop:function(a,c){return c===n?this[0]?this[0][a]:n:this.each(function(b){this[a]=x(this,c,b,this[a])})},data:function(a,c){a=this.attr("data-"+l(a),c);return null!==a?E(a):n},val:function(a){return a===n?0<this.length?this[0].multiple?c(this[0]).find("option").filter(function(a){return this.selected}).pluck("value"):
this[0].value:n:this.each(function(c){this.value=x(this,a,c,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(a,c){if(2>arguments.length&&"string"==typeof a)return 0==this.length?n:this[0].style[L(a)]||J(this[0],"").getPropertyValue(a);var b="";for(u in a)a[u]||0===a[u]?b+=l(u)+":"+h(u,a[u])+";":this.each(function(){this.style.removeProperty(l(u))});
return"string"==typeof a&&(c||0===c?b=l(a)+":"+h(a,c):this.each(function(){this.style.removeProperty(l(a))})),this.each(function(){this.style.cssText+=";"+b})},index:function(a){return a?this.indexOf(c(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return 1>this.length?!1:q(a).test(A(this[0]))},addClass:function(a){return this.each(function(b){g=[];var d=A(this);x(this,a,b,d).split(/\s+/g).forEach(function(a){c(this).hasClass(a)||g.push(a)},this);g.length&&A(this,d+(d?" ":
"")+g.join(" "))})},removeClass:function(a){return this.each(function(c){if(a===n)return A(this,"");g=A(this);x(this,a,c,g).split(/\s+/g).forEach(function(a){g=g.replace(q(a)," ")});A(this,g.trim())})},toggleClass:function(a,b){return this.each(function(d){d=x(this,a,d,A(this));(b===n?!c(this).hasClass(d):b)?c(this).addClass(d):c(this).removeClass(d)})},scrollTop:function(){if(this.length)return"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY},position:function(){if(this.length){var a=this[0],
b=this.offsetParent(),d=this.offset(),g=N.test(b[0].nodeName)?{top:0,left:0}:b.offset();return d.top-=parseFloat(c(a).css("margin-top"))||0,d.left-=parseFloat(c(a).css("margin-left"))||0,g.top+=parseFloat(c(b[0]).css("border-top-width"))||0,g.left+=parseFloat(c(b[0]).css("border-left-width"))||0,{top:d.top-g.top,left:d.left-g.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||v.body;a&&!N.test(a.nodeName)&&"static"==c(a).css("position");)a=a.offsetParent;return a})}},
["width","height"].forEach(function(a){c.fn[a]=function(b){var d,g=a.replace(/./,function(a){return a[0].toUpperCase()});return b===n?this[0]==window?window["inner"+g]:this[0]==v?v.documentElement["offset"+g]:(d=this.offset())&&d[a]:this.each(function(d){var g=c(this);g.css(a,x(this,b,d,g[a]()))})}}),["after","prepend","before","append"].forEach(function(a,b){var d=b%2;c.fn[a]=function(){var a=c.map(arguments,function(a){return k(a)?a:p.fragment(a)}),g,f=1<this.length;return 1>a.length?this:this.each(function(m,
e){g=d?e:e.parentNode;e=0==b?e.nextSibling:1==b?e.firstChild:2==b?e:null;a.forEach(function(a){if(f)a=a.cloneNode(!0);else if(!g)return c(a).remove();F(g.insertBefore(a,e),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})};c.fn[d?a+"To":"insert"+(b?"Before":"After")]=function(b){return c(b)[a](this),this}}),p.Z.prototype=c.fn,p.uniq=G,p.deserializeValue=E,c.zepto=p,c}();window.Zepto=Zepto;
"$"in window||(window.$=Zepto);
(function(b){function k(c){return c._zid||(c._zid=y++)}function w(c,b,e,h){var g;b=d(b);b.ns&&(g=new RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)"));return(C[k(c)]||[]).filter(function(c){return c&&(!b.e||c.e==b.e)&&(!b.ns||g.test(c.ns))&&(!e||k(c.fn)===k(e))&&(!h||c.sel==h)})}function d(c){c=(""+c).split(".");return{e:c[0],ns:c.slice(1).sort().join(" ")}}function e(c,d,e){b.isObject(c)?b.each(c,e):c.split(/\s/).forEach(function(c){e(c,d)})}function z(c){return A[c]||c}function l(c,g,m,h,l,
v){var r=k(c),n=C[r]||(C[r]=[]);e(g,m,function(g,e){var m=d(g);m.fn=e;m.sel=h;m.e in A&&(e=function(c){var d=c.relatedTarget;if(!d||d!==this&&!b.contains(this,d))return m.fn.apply(this,arguments)});m.del=l&&l(e,g);var r=m.del||e;m.proxy=function(b){var d=r.apply(c,[b].concat(b.data));return!1===d&&(b.preventDefault(),b.stopPropagation()),d};m.i=n.length;n.push(m);c.addEventListener(z(m.e),m.proxy,m.del&&("focus"==m.e||"blur"==m.e)||!!v)})}function q(c,b,d,h,l){var g=k(c);e(b||"",d,function(b,d){w(c,
b,d,h).forEach(function(b){delete C[g][b.i];c.removeEventListener(z(b.e),b.proxy,b.del&&("focus"==b.e||"blur"==b.e)||!!l)})})}function h(c){var d,e={originalEvent:c};for(d in c)!n.test(d)&&void 0!==c[d]&&(e[d]=c[d]);return b.each(u,function(b,d){e[b]=function(){return this[d]=E,c[b].apply(c,arguments)};e[d]=F}),e}function r(c){if(!("defaultPrevented"in c)){c.defaultPrevented=!1;var b=c.preventDefault;c.preventDefault=function(){this.defaultPrevented=!0;b.call(this)}}}var C={},y=1,x={},A={mouseenter:"mouseover",
mouseleave:"mouseout"};x.click=x.mousedown=x.mouseup=x.mousemove="MouseEvents";b.event={add:l,remove:q};b.proxy=function(c,d){if(b.isFunction(c)){var g=function(){return c.apply(d,arguments)};return g._zid=k(c),g}if("string"==typeof d)return b.proxy(c[d],c);throw new TypeError("expected function");};b.fn.bind=function(c,b){return this.each(function(){l(this,c,b)})};b.fn.unbind=function(c,b){return this.each(function(){q(this,c,b)})};b.fn.one=function(c,b){return this.each(function(d,g){l(this,c,b,
null,function(c,b){return function(){var d=c.apply(g,arguments);return q(g,b,c),d}})})};var E=function(){return!0},F=function(){return!1},n=/^([A-Z]|layer[XY]$)/,u={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};b.fn.delegate=function(c,d,e){return this.each(function(g,m){l(m,d,e,c,function(d){return function(g){var e,l=b(g.target).closest(c,m).get(0);if(l)return e=b.extend(h(g),{currentTarget:l,liveFired:m}),d.apply(l,
[e].concat([].slice.call(arguments,1)))}})})};b.fn.undelegate=function(c,b,d){return this.each(function(){q(this,b,d,c)})};b.fn.live=function(c,d){return b(document.body).delegate(this.selector,c,d),this};b.fn.die=function(c,d){return b(document.body).undelegate(this.selector,c,d),this};b.fn.on=function(c,d,e){return!d||b.isFunction(d)?this.bind(c,d||e):this.delegate(d,c,e)};b.fn.off=function(c,d,e){return!d||b.isFunction(d)?this.unbind(c,d||e):this.undelegate(d,c,e)};b.fn.trigger=function(c,d){if("string"==
typeof c||b.isPlainObject(c))c=b.Event(c);return r(c),c.data=d,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(c)})};b.fn.triggerHandler=function(c,d){var e,g;return this.each(function(l,m){e=h("string"==typeof c?b.Event(c):c);e.data=d;e.target=m;b.each(w(m,c.type||c),function(c,b){g=b.proxy(e);if(e.isImmediatePropagationStopped())return!1})}),g};"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(c){b.fn[c]=
function(b){return b?this.bind(c,b):this.trigger(c)}});["focus","blur"].forEach(function(c){b.fn[c]=function(b){return b?this.bind(c,b):this.each(function(){try{this[c]()}catch(m){}}),this}});b.Event=function(c,b){"string"!=typeof c&&(b=c,c=b.type);var d=document.createEvent(x[c]||"Events"),e=!0;if(b)for(var g in b)"bubbles"==g?e=!!b[g]:d[g]=b[g];return d.initEvent(c,e,!0,null,null,null,null,null,null,null,null,null,null,null,null),d.isDefaultPrevented=function(){return this.defaultPrevented},d}})(Zepto);
(function(b){function k(d,r){var h=d[q],h=h&&e[h];if(void 0===r)return h||w(d);if(h){if(r in h)return h[r];var y=l(r);if(y in h)return h[y]}return z.call(b(d),r)}function w(h,r,k){var y=h[q]||(h[q]=++b.uuid);h=e[y]||(e[y]=d(h));return void 0!==r&&(h[l(r)]=k),h}function d(d){var e={};return b.each(d.attributes,function(d,h){0==h.name.indexOf("data-")&&(e[l(h.name.replace("data-",""))]=b.zepto.deserializeValue(h.value))}),e}var e={},z=b.fn.data,l=b.camelCase,q=b.expando="Zepto"+ +new Date;b.fn.data=
function(d,e){return void 0===e?b.isPlainObject(d)?this.each(function(e,h){b.each(d,function(b,d){w(h,b,d)})}):0==this.length?void 0:k(this[0],d):this.each(function(){w(this,d,e)})};b.fn.removeData=function(d){return"string"==typeof d&&(d=d.split(/\s+/)),this.each(function(){var h=this[q],k=h&&e[h];k&&b.each(d,function(){delete k[l(this)]})})}})(Zepto);!function(b){var k=function(b){this.defined="undefined"!==typeof localStorage;b="garlic:"+document.domain+">test";try{localStorage.setItem(b,b),localStorage.removeItem(b)}catch(e){this.defined=!1}};k.prototype={constructor:k,get:function(b,e){if(b=localStorage.getItem(b)){try{b=JSON.parse(b)}catch(z){}return b}return"undefined"!==typeof e?e:null},has:function(b){return localStorage.getItem(b)?!0:!1},set:function(b,e,k){""===e||e instanceof Array&&0===e.length?this.destroy(b):(e=JSON.stringify(e),
localStorage.setItem(b,e));return"function"===typeof k?k():!0},destroy:function(b,e){localStorage.removeItem(b);return"function"===typeof e?e():!0},clean:function(b){for(var d=localStorage.length-1;0<=d;d--)"undefined"===typeof Array.indexOf&&-1!==localStorage.key(d).indexOf("garlic:")&&localStorage.removeItem(localStorage.key(d));return"function"===typeof b?b():!0},clear:function(b){localStorage.clear();return"function"===typeof b?b():!0}};var w=function(b,e,k){this.init("garlic",b,e,k)};w.prototype=
{constructor:w,init:function(d,e,k,l){this.type=d;this.$element=b(e);this.options=this.getOptions(l);this.storage=k;this.path=this.options.getPath(this.$element)||this.getPath();this.parentForm=this.$element.closest("form");this.$element.addClass("garlic-auto-save");this.expiresFlag=this.options.expires?(this.$element.data("expires")?this.path:this.getPath(this.parentForm))+"_flag":!1;this.$element.on(this.options.events.join("."+this.type+" "),!1,b.proxy(this.persist,this));if(this.options.destroy)b(this.parentForm).on("submit reset",
!1,b.proxy(this.remove,this));this.retrieve()},getOptions:function(d){return b.extend({},b.fn[this.type].defaults,d,this.$element.data())},persist:function(){this.val!==this.getVal()&&(this.val=this.getVal(),this.options.expires&&this.storage.set(this.expiresFlag,((new Date).getTime()+1E3*this.options.expires).toString()),this.storage.set(this.path,this.getVal()),this.options.onPersist(this.$element,this.getVal()))},getVal:function(){return this.$element.is("input[type=checkbox]")?this.$element.prop("checked")?
"checked":"unchecked":this.$element.val()},retrieve:function(){if(this.storage.has(this.path)){if(this.options.expires){var b=(new Date).getTime();if(this.storage.get(this.expiresFlag)<b.toString()){this.storage.destroy(this.path);return}this.$element.attr("expires-in",Math.floor((parseInt(this.storage.get(this.expiresFlag))-b)/1E3))}b=this.storage.get(this.path);if(this.options.conflictManager.enabled&&this.detectConflict())return this.conflictManager();if(this.$element.is("input[type=radio], input[type=checkbox]")){if("checked"===
b||this.$element.val()===b)return this.$element.prop("checked",!0);"unchecked"===b&&this.$element.prop("checked",!1)}else this.$element.val(b),this.$element.trigger("input"),this.options.onRetrieve(this.$element,b)}},detectConflict:function(){var d=this;if(this.$element.is("input[type=checkbox], input[type=radio]"))return!1;if(this.$element.val()&&this.storage.get(this.path)!==this.$element.val()){if(this.$element.is("select")){var e=!1;this.$element.find("option").each(function(){0!==b(this).index()&&
b(this).attr("selected")&&b(this).val()!==d.storage.get(this.path)&&(e=!0)});return e}return!0}return!1},conflictManager:function(){if("function"===typeof this.options.conflictManager.onConflictDetected&&!this.options.conflictManager.onConflictDetected(this.$element,this.storage.get(this.path)))return!1;this.options.conflictManager.garlicPriority?(this.$element.data("swap-data",this.$element.val()),this.$element.data("swap-state","garlic"),this.$element.val(this.storage.get(this.path))):(this.$element.data("swap-data",
this.storage.get(this.path)),this.$element.data("swap-state","default"));this.swapHandler();this.$element.addClass("garlic-conflict-detected");this.$element.closest("input[type=submit]").attr("disabled",!0)},swapHandler:function(){var d=b(this.options.conflictManager.template);this.$element.after(d.text(this.options.conflictManager.message));d.on("click",!1,b.proxy(this.swap,this))},swap:function(){var d=this.$element.data("swap-data");this.$element.data("swap-state","garlic"===this.$element.data("swap-state")?
"default":"garlic");this.$element.data("swap-data",this.$element.val());b(this.$element).val(d);this.options.onSwap(this.$element,this.$element.data("swap-data"),d)},destroy:function(){this.storage.destroy(this.path)},remove:function(){this.destroy();this.$element.is("input[type=radio], input[type=checkbox]")?b(this.$element).attr("checked",!1):this.$element.val("")},getPath:function(d){"undefined"===typeof d&&(d=this.$element);if(this.options.getPath(d))return this.options.getPath(d);if(1!=d.length)return!1;
for(var e="",k=d.is("input[type=checkbox]"),l=d;l.length;){d=l[0];var q=d.nodeName;if(!q)break;var q=q.toLowerCase(),l=l.parent(),h=l.children(q);if(b(d).is("form, input, select, textarea")||k)if(q+=b(d).attr("name")?"."+b(d).attr("name"):"",1<h.length&&!b(d).is("input[type=radio]")&&(q+=":eq("+h.index(d)+")"),e=q+(e?">"+e:""),"form"==d.nodeName.toLowerCase())break}return"garlic:"+document.domain+(this.options.domain?"*":window.location.pathname)+">"+e},getStorage:function(){return this.storage}};
b.fn.garlic=function(d,e){function z(e){var h=b(e),k=h.data("garlic"),r=b.extend({},l,h.data());if(("undefined"===typeof r.storage||r.storage)&&"password"!==b(e).attr("type")&&(k||h.data("garlic",k=new w(e,q,r)),"string"===typeof d&&"function"===typeof k[d]))return k[d]()}var l=b.extend(!0,{},b.fn.garlic.defaults,d,this.data()),q=new k,h=!1;if(!q.defined)return!1;this.each(function(){b(this).is("form")?b(this).find(l.inputs).each(function(){b(this).is(l.excluded)||(h=z(b(this)))}):b(this).is(l.inputs)&&
!b(this).is(l.excluded)&&(h=z(b(this)))});return"function"===typeof e?e():h};b.fn.garlic.Constructor=w;b.fn.garlic.defaults={destroy:!0,inputs:"input, textarea, select",excluded:'input[type="file"], input[type="hidden"], input[type="submit"], input[type="reset"], [data-persist="false"]',events:"DOMAttrModified textInput input change click keypress paste focus".split(" "),domain:!1,expires:!1,conflictManager:{enabled:!1,garlicPriority:!0,template:'<span class="garlic-swap"></span>',message:"This is your saved data. Click here to see default one",
onConflictDetected:function(b,e){return!0}},getPath:function(b){},onRetrieve:function(b,e){},onPersist:function(b,e){},onSwap:function(b,e,k){}};b(window).on("load",function(){b('[data-persist="garlic"]').each(function(){b(this).garlic()})})}(window.jQuery||window.Zepto);
